TODO: common folder
TODO: pattern_decoder
TODO: test
